import{E as Ie,u as Ue}from"./index.5a660e8d.js";import{a as C,c as H,u as Je,b as he,E as We,O as je,w as we,F as Ve}from"./index.32e49fb3.js";import{u as ne,a as Xe}from"./index.d12f3d97.js";import{ah as qe,d as z,X as N,b,l as k,ai as de,g as W,o as F,D as U,E as $,a6 as Ze,C as te,n as j,f as E,K as le,aj as Qe,T as xe,c as Q,J as P,F as Ce,w as re,v as ie,Y as V,a8 as eo,q as Te,Z as oo,r as M,N as Se,G as se,ac as no,e as to,H as R,ak as lo,al as ro,am as so,I as ee,p as $e,ab as ao,a3 as ue}from"./framework.99602b11.js";import{b as X,_ as K,f as oe,p as io,m as A,i as x,n as ce,w as ke,g as Oe,l as uo,E as Re,r as co,d as po,k as Ne}from"./use-form-item.df37cbde.js";import{t as fo}from"./error.78e43d3e.js";const Fe=(...e)=>o=>{e.forEach(l=>{qe(l)?l(o):l.value=o})},Z=4,mo={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},vo=({move:e,size:o,bar:l})=>({[l.size]:o,transform:`translate${l.axis}(${e}%)`}),Pe=Symbol("scrollbarContextKey"),go=X({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),bo="Thumb",ho=z({__name:"thumb",props:go,setup(e){const o=e,l=N(Pe),n=oe("scrollbar");l||fo(bo,"can not inject scrollbar context");const c=b(),d=b(),t=b({}),u=b(!1);let s=!1,h=!1,g=io?document.onselectstart:null;const a=k(()=>mo[o.vertical?"vertical":"horizontal"]),_=k(()=>vo({size:o.size,move:o.move,bar:a.value})),r=k(()=>c.value[a.value.offset]**2/l.wrapElement[a.value.scrollSize]/o.ratio/d.value[a.value.offset]),m=p=>{var i;if(p.stopPropagation(),p.ctrlKey||[1,2].includes(p.button))return;(i=window.getSelection())==null||i.removeAllRanges(),w(p);const y=p.currentTarget;y&&(t.value[a.value.axis]=y[a.value.offset]-(p[a.value.client]-y.getBoundingClientRect()[a.value.direction]))},v=p=>{if(!d.value||!c.value||!l.wrapElement)return;const i=Math.abs(p.target.getBoundingClientRect()[a.value.direction]-p[a.value.client]),y=d.value[a.value.offset]/2,T=(i-y)*100*r.value/c.value[a.value.offset];l.wrapElement[a.value.scroll]=T*l.wrapElement[a.value.scrollSize]/100},w=p=>{p.stopImmediatePropagation(),s=!0,document.addEventListener("mousemove",L),document.addEventListener("mouseup",S),g=document.onselectstart,document.onselectstart=()=>!1},L=p=>{if(!c.value||!d.value||s===!1)return;const i=t.value[a.value.axis];if(!i)return;const y=(c.value.getBoundingClientRect()[a.value.direction]-p[a.value.client])*-1,T=d.value[a.value.offset]-i,J=(y-T)*100*r.value/c.value[a.value.offset];l.wrapElement[a.value.scroll]=J*l.wrapElement[a.value.scrollSize]/100},S=()=>{s=!1,t.value[a.value.axis]=0,document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",S),O(),h&&(u.value=!1)},D=()=>{h=!1,u.value=!!o.size},I=()=>{h=!0,u.value=s};de(()=>{O(),document.removeEventListener("mouseup",S)});const O=()=>{document.onselectstart!==g&&(document.onselectstart=g)};return ne(W(l,"scrollbarElement"),"mousemove",D),ne(W(l,"scrollbarElement"),"mouseleave",I),(p,i)=>(F(),U(xe,{name:E(n).b("fade"),persisted:""},{default:$(()=>[Ze(te("div",{ref_key:"instance",ref:c,class:j([E(n).e("bar"),E(n).is(E(a).key)]),onMousedown:v},[te("div",{ref_key:"thumb",ref:d,class:j(E(n).e("thumb")),style:le(E(_)),onMousedown:m},null,38)],34),[[Qe,p.always||u.value]])]),_:1},8,["name"]))}});var ye=K(ho,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const wo=X({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),yo=z({__name:"bar",props:wo,setup(e,{expose:o}){const l=e,n=b(0),c=b(0);return o({handleScroll:t=>{if(t){const u=t.offsetHeight-Z,s=t.offsetWidth-Z;c.value=t.scrollTop*100/u*l.ratioY,n.value=t.scrollLeft*100/s*l.ratioX}}}),(t,u)=>(F(),Q(Ce,null,[P(ye,{move:n.value,ratio:t.ratioX,size:t.width,always:t.always},null,8,["move","ratio","size","always"]),P(ye,{move:c.value,ratio:t.ratioY,size:t.height,vertical:"",always:t.always},null,8,["move","ratio","size","always"])],64))}});var Eo=K(yo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const _o=X({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:A([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),Io={scroll:({scrollTop:e,scrollLeft:o})=>[e,o].every(x)},Co="ElScrollbar",To=z({name:Co}),So=z({...To,props:_o,emits:Io,setup(e,{expose:o,emit:l}){const n=e,c=oe("scrollbar");let d,t;const u=b(),s=b(),h=b(),g=b("0"),a=b("0"),_=b(),r=b(1),m=b(1),v=k(()=>{const i={};return n.height&&(i.height=ce(n.height)),n.maxHeight&&(i.maxHeight=ce(n.maxHeight)),[n.wrapStyle,i]}),w=k(()=>[n.wrapClass,c.e("wrap"),{[c.em("wrap","hidden-default")]:!n.native}]),L=k(()=>[c.e("view"),n.viewClass]),S=()=>{var i;s.value&&((i=_.value)==null||i.handleScroll(s.value),l("scroll",{scrollTop:s.value.scrollTop,scrollLeft:s.value.scrollLeft}))};function D(i,y){no(i)?s.value.scrollTo(i):x(i)&&x(y)&&s.value.scrollTo(i,y)}const I=i=>{x(i)&&(s.value.scrollTop=i)},O=i=>{x(i)&&(s.value.scrollLeft=i)},p=()=>{if(!s.value)return;const i=s.value.offsetHeight-Z,y=s.value.offsetWidth-Z,T=i**2/s.value.scrollHeight,J=y**2/s.value.scrollWidth,Y=Math.max(T,n.minSize),G=Math.max(J,n.minSize);r.value=T/(i-T)/(Y/(i-Y)),m.value=J/(y-J)/(G/(y-G)),a.value=Y+Z<i?`${Y}px`:"",g.value=G+Z<y?`${G}px`:""};return re(()=>n.noresize,i=>{i?(d==null||d(),t==null||t()):({stop:d}=Xe(h,p),t=ne("resize",p))},{immediate:!0}),re(()=>[n.maxHeight,n.height],()=>{n.native||ie(()=>{var i;p(),s.value&&((i=_.value)==null||i.handleScroll(s.value))})}),V(Pe,eo({scrollbarElement:u,wrapElement:s})),Te(()=>{n.native||ie(()=>{p()})}),oo(()=>p()),o({wrapRef:s,update:p,scrollTo:D,setScrollTop:I,setScrollLeft:O,handleScroll:S}),(i,y)=>(F(),Q("div",{ref_key:"scrollbarRef",ref:u,class:j(E(c).b())},[te("div",{ref_key:"wrapRef",ref:s,class:j(E(w)),style:le(E(v)),onScroll:S},[(F(),U(Se(i.tag),{ref_key:"resizeRef",ref:h,class:j(E(L)),style:le(i.viewStyle)},{default:$(()=>[M(i.$slots,"default")]),_:3},8,["class","style"]))],38),i.native?se("v-if",!0):(F(),U(Eo,{key:0,ref_key:"barRef",ref:_,height:a.value,width:g.value,always:i.always,"ratio-x":m.value,"ratio-y":r.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var $o=K(So,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const ko=ke($o),Oo=z({inheritAttrs:!1});function Ro(e,o,l,n,c,d){return M(e.$slots,"default")}var No=K(Oo,[["render",Ro],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const Fo=z({name:"ElCollectionItem",inheritAttrs:!1});function Po(e,o,l,n,c,d){return M(e.$slots,"default")}var Lo=K(Fo,[["render",Po],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Le="data-el-collection-item",Be=e=>{const o=`El${e}Collection`,l=`${o}Item`,n=Symbol(o),c=Symbol(l),d={...No,name:o,setup(){const u=b(null),s=new Map;V(n,{itemMap:s,getItems:()=>{const g=E(u);if(!g)return[];const a=Array.from(g.querySelectorAll(`[${Le}]`));return[...s.values()].sort((r,m)=>a.indexOf(r.ref)-a.indexOf(m.ref))},collectionRef:u})}},t={...Lo,name:l,setup(u,{attrs:s}){const h=b(null),g=N(n,void 0);V(c,{collectionItemRef:h}),Te(()=>{const a=E(h);a&&g.itemMap.set(a,{ref:a,...s})}),de(()=>{const a=E(h);g.itemMap.delete(a)})}};return{COLLECTION_INJECTION_KEY:n,COLLECTION_ITEM_INJECTION_KEY:c,ElCollection:d,ElCollectionItem:t}},Bo=X({style:{type:A([String,Array,Object])},currentTabId:{type:A(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:A(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:zo,ElCollectionItem:Mo,COLLECTION_INJECTION_KEY:pe,COLLECTION_ITEM_INJECTION_KEY:Ko}=Be("RovingFocusGroup"),fe=Symbol("elRovingFocusGroup"),ze=Symbol("elRovingFocusGroupItem"),Do={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Ao=(e,o)=>{if(o!=="rtl")return e;switch(e){case C.right:return C.left;case C.left:return C.right;default:return e}},Ho=(e,o,l)=>{const n=Ao(e.key,l);if(!(o==="vertical"&&[C.left,C.right].includes(n))&&!(o==="horizontal"&&[C.up,C.down].includes(n)))return Do[n]},Go=(e,o)=>e.map((l,n)=>e[(n+o)%e.length]),me=e=>{const{activeElement:o}=document;for(const l of e)if(l===o||(l.focus(),o!==document.activeElement))return},Ee="currentTabIdChange",_e="rovingFocusGroup.entryFocus",Yo={bubbles:!1,cancelable:!0},Uo=z({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Bo,emits:[Ee,"entryFocus"],setup(e,{emit:o}){var l;const n=b((l=e.currentTabId||e.defaultCurrentTabId)!=null?l:null),c=b(!1),d=b(!1),t=b(null),{getItems:u}=N(pe,void 0),s=k(()=>[{outline:"none"},e.style]),h=v=>{o(Ee,v)},g=()=>{c.value=!0},a=H(v=>{var w;(w=e.onMousedown)==null||w.call(e,v)},()=>{d.value=!0}),_=H(v=>{var w;(w=e.onFocus)==null||w.call(e,v)},v=>{const w=!E(d),{target:L,currentTarget:S}=v;if(L===S&&w&&!E(c)){const D=new Event(_e,Yo);if(S==null||S.dispatchEvent(D),!D.defaultPrevented){const I=u().filter(T=>T.focusable),O=I.find(T=>T.active),p=I.find(T=>T.id===E(n)),y=[O,p,...I].filter(Boolean).map(T=>T.ref);me(y)}}d.value=!1}),r=H(v=>{var w;(w=e.onBlur)==null||w.call(e,v)},()=>{c.value=!1}),m=(...v)=>{o("entryFocus",...v)};V(fe,{currentTabbedId:to(n),loop:W(e,"loop"),tabIndex:k(()=>E(c)?-1:0),rovingFocusGroupRef:t,rovingFocusGroupRootStyle:s,orientation:W(e,"orientation"),dir:W(e,"dir"),onItemFocus:h,onItemShiftTab:g,onBlur:r,onFocus:_,onMousedown:a}),re(()=>e.currentTabId,v=>{n.value=v??null}),ne(t,_e,m)}});function Jo(e,o,l,n,c,d){return M(e.$slots,"default")}var Wo=K(Uo,[["render",Jo],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const jo=z({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:zo,ElRovingFocusGroupImpl:Wo}});function Vo(e,o,l,n,c,d){const t=R("el-roving-focus-group-impl"),u=R("el-focus-group-collection");return F(),U(u,null,{default:$(()=>[P(t,lo(ro(e.$attrs)),{default:$(()=>[M(e.$slots,"default")]),_:3},16)]),_:3})}var Xo=K(jo,[["render",Vo],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const qo=z({components:{ElRovingFocusCollectionItem:Mo},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:o}){const{currentTabbedId:l,loop:n,onItemFocus:c,onItemShiftTab:d}=N(fe,void 0),{getItems:t}=N(pe,void 0),u=Oe(),s=b(null),h=H(r=>{o("mousedown",r)},r=>{e.focusable?c(E(u)):r.preventDefault()}),g=H(r=>{o("focus",r)},()=>{c(E(u))}),a=H(r=>{o("keydown",r)},r=>{const{key:m,shiftKey:v,target:w,currentTarget:L}=r;if(m===C.tab&&v){d();return}if(w!==L)return;const S=Ho(r);if(S){r.preventDefault();let I=t().filter(O=>O.focusable).map(O=>O.ref);switch(S){case"last":{I.reverse();break}case"prev":case"next":{S==="prev"&&I.reverse();const O=I.indexOf(L);I=n.value?Go(I,O+1):I.slice(O+1);break}}ie(()=>{me(I)})}}),_=k(()=>l.value===E(u));return V(ze,{rovingFocusGroupItemRef:s,tabIndex:k(()=>E(_)?0:-1),handleMousedown:h,handleFocus:g,handleKeydown:a}),{id:u,handleKeydown:a,handleFocus:g,handleMousedown:h}}});function Zo(e,o,l,n,c,d){const t=R("el-roving-focus-collection-item");return F(),U(t,{id:e.id,focusable:e.focusable,active:e.active},{default:$(()=>[M(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var Qo=K(qo,[["render",Zo],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const xo=X({trigger:Je.trigger,effect:{...he.effect,default:"light"},type:{type:A(String)},placement:{type:A(String),default:"bottom"},popperOptions:{type:A(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:A([Number,String]),default:0},maxHeight:{type:A([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:A(Object)},teleported:he.teleported}),Me=X({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:uo}}),en=X({onKeydown:{type:A(Function)}}),on=[C.down,C.pageDown,C.home],Ke=[C.up,C.pageUp,C.end],nn=[...on,...Ke],{ElCollection:tn,ElCollectionItem:ln,COLLECTION_INJECTION_KEY:rn,COLLECTION_ITEM_INJECTION_KEY:sn}=Be("Dropdown"),ae=Symbol("elDropdown"),{ButtonGroup:an}=Ie,un=z({name:"ElDropdown",components:{ElButton:Ie,ElButtonGroup:an,ElScrollbar:ko,ElDropdownCollection:tn,ElTooltip:We,ElRovingFocusGroup:Xo,ElOnlyChild:je,ElIcon:Re,ArrowDown:co},props:xo,emits:["visible-change","click","command"],setup(e,{emit:o}){const l=$e(),n=oe("dropdown"),{t:c}=Ue(),d=b(),t=b(),u=b(null),s=b(null),h=b(null),g=b(null),a=b(!1),_=[C.enter,C.space,C.down],r=k(()=>({maxHeight:ce(e.maxHeight)})),m=k(()=>[n.m(I.value)]),v=Oe().value,w=k(()=>e.id||v);re([d,W(e,"trigger")],([f,B],[q])=>{var ve,ge,be;const Ye=ao(B)?B:[B];(ve=q==null?void 0:q.$el)!=null&&ve.removeEventListener&&q.$el.removeEventListener("pointerenter",p),(ge=f==null?void 0:f.$el)!=null&&ge.removeEventListener&&f.$el.removeEventListener("pointerenter",p),(be=f==null?void 0:f.$el)!=null&&be.addEventListener&&Ye.includes("hover")&&f.$el.addEventListener("pointerenter",p)},{immediate:!0}),de(()=>{var f,B;(B=(f=d.value)==null?void 0:f.$el)!=null&&B.removeEventListener&&d.value.$el.removeEventListener("pointerenter",p)});function L(){S()}function S(){var f;(f=u.value)==null||f.onClose()}function D(){var f;(f=u.value)==null||f.onOpen()}const I=po();function O(...f){o("command",...f)}function p(){var f,B;(B=(f=d.value)==null?void 0:f.$el)==null||B.focus()}function i(){}function y(){const f=E(s);f==null||f.focus(),g.value=null}function T(f){g.value=f}function J(f){a.value||(f.preventDefault(),f.stopImmediatePropagation())}function Y(){o("visible-change",!0)}function G(f){(f==null?void 0:f.type)==="keydown"&&s.value.focus()}function Ge(){o("visible-change",!1)}return V(ae,{contentRef:s,role:k(()=>e.role),triggerId:w,isUsingKeyboard:a,onItemEnter:i,onItemLeave:y}),V("elDropdown",{instance:l,dropdownSize:I,handleClick:L,commandHandler:O,trigger:W(e,"trigger"),hideOnClick:W(e,"hideOnClick")}),{t:c,ns:n,scrollbar:h,wrapStyle:r,dropdownTriggerKls:m,dropdownSize:I,triggerId:w,triggerKeys:_,currentTabId:g,handleCurrentTabIdChange:T,handlerMainButtonClick:f=>{o("click",f)},handleEntryFocus:J,handleClose:S,handleOpen:D,handleBeforeShowTooltip:Y,handleShowTooltip:G,handleBeforeHideTooltip:Ge,onFocusAfterTrapped:f=>{var B,q;f.preventDefault(),(q=(B=s.value)==null?void 0:B.focus)==null||q.call(B,{preventScroll:!0})},popperRef:u,contentRef:s,triggeringElementRef:d,referenceElementRef:t}}});function cn(e,o,l,n,c,d){var t;const u=R("el-dropdown-collection"),s=R("el-roving-focus-group"),h=R("el-scrollbar"),g=R("el-only-child"),a=R("el-tooltip"),_=R("el-button"),r=R("arrow-down"),m=R("el-icon"),v=R("el-button-group");return F(),Q("div",{class:j([e.ns.b(),e.ns.is("disabled",e.disabled)])},[P(a,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(t=e.referenceElementRef)==null?void 0:t.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},so({content:$(()=>[P(h,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:$(()=>[P(s,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:$(()=>[P(u,null,{default:$(()=>[M(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:$(()=>[P(g,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:$(()=>[M(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(F(),U(v,{key:0},{default:$(()=>[P(_,ee({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:$(()=>[M(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),P(_,ee({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:$(()=>[P(m,{class:j(e.ns.e("icon"))},{default:$(()=>[P(r)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):se("v-if",!0)],2)}var dn=K(un,[["render",cn],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const pn=z({name:"DropdownItemImpl",components:{ElIcon:Re},props:Me,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:o}){const l=oe("dropdown"),{role:n}=N(ae,void 0),{collectionItemRef:c}=N(sn,void 0),{collectionItemRef:d}=N(Ko,void 0),{rovingFocusGroupItemRef:t,tabIndex:u,handleFocus:s,handleKeydown:h,handleMousedown:g}=N(ze,void 0),a=Fe(c,d,t),_=k(()=>n.value==="menu"?"menuitem":n.value==="navigation"?"link":"button"),r=H(m=>{const{code:v}=m;if(v===C.enter||v===C.space)return m.preventDefault(),m.stopImmediatePropagation(),o("clickimpl",m),!0},h);return{ns:l,itemRef:a,dataset:{[Le]:""},role:_,tabIndex:u,handleFocus:s,handleKeydown:r,handleMousedown:g}}}),fn=["aria-disabled","tabindex","role"];function mn(e,o,l,n,c,d){const t=R("el-icon");return F(),Q(Ce,null,[e.divided?(F(),Q("li",ee({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):se("v-if",!0),te("li",ee({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:o[0]||(o[0]=u=>e.$emit("clickimpl",u)),onFocus:o[1]||(o[1]=(...u)=>e.handleFocus&&e.handleFocus(...u)),onKeydown:o[2]||(o[2]=ue((...u)=>e.handleKeydown&&e.handleKeydown(...u),["self"])),onMousedown:o[3]||(o[3]=(...u)=>e.handleMousedown&&e.handleMousedown(...u)),onPointermove:o[4]||(o[4]=u=>e.$emit("pointermove",u)),onPointerleave:o[5]||(o[5]=u=>e.$emit("pointerleave",u))}),[e.icon?(F(),U(t,{key:0},{default:$(()=>[(F(),U(Se(e.icon)))]),_:1})):se("v-if",!0),M(e.$slots,"default")],16,fn)],64)}var vn=K(pn,[["render",mn],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const De=()=>{const e=N("elDropdown",{}),o=k(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:o}},gn=z({name:"ElDropdownItem",components:{ElDropdownCollectionItem:ln,ElRovingFocusItem:Qo,ElDropdownItemImpl:vn},inheritAttrs:!1,props:Me,emits:["pointermove","pointerleave","click"],setup(e,{emit:o,attrs:l}){const{elDropdown:n}=De(),c=$e(),d=b(null),t=k(()=>{var r,m;return(m=(r=E(d))==null?void 0:r.textContent)!=null?m:""}),{onItemEnter:u,onItemLeave:s}=N(ae,void 0),h=H(r=>(o("pointermove",r),r.defaultPrevented),we(r=>{if(e.disabled){s(r);return}const m=r.currentTarget;m===document.activeElement||m.contains(document.activeElement)||(u(r),r.defaultPrevented||m==null||m.focus())})),g=H(r=>(o("pointerleave",r),r.defaultPrevented),we(r=>{s(r)})),a=H(r=>{if(!e.disabled)return o("click",r),r.type!=="keydown"&&r.defaultPrevented},r=>{var m,v,w;if(e.disabled){r.stopImmediatePropagation();return}(m=n==null?void 0:n.hideOnClick)!=null&&m.value&&((v=n.handleClick)==null||v.call(n)),(w=n.commandHandler)==null||w.call(n,e.command,c,r)}),_=k(()=>({...e,...l}));return{handleClick:a,handlePointerMove:h,handlePointerLeave:g,textContent:t,propsAndAttrs:_}}});function bn(e,o,l,n,c,d){var t;const u=R("el-dropdown-item-impl"),s=R("el-roving-focus-item"),h=R("el-dropdown-collection-item");return F(),U(h,{disabled:e.disabled,"text-value":(t=e.textValue)!=null?t:e.textContent},{default:$(()=>[P(s,{focusable:!e.disabled},{default:$(()=>[P(u,ee(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:$(()=>[M(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Ae=K(gn,[["render",bn],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const hn=z({name:"ElDropdownMenu",props:en,setup(e){const o=oe("dropdown"),{_elDropdownSize:l}=De(),n=l.value,{focusTrapRef:c,onKeydown:d}=N(Ve,void 0),{contentRef:t,role:u,triggerId:s}=N(ae,void 0),{collectionRef:h,getItems:g}=N(rn,void 0),{rovingFocusGroupRef:a,rovingFocusGroupRootStyle:_,tabIndex:r,onBlur:m,onFocus:v,onMousedown:w}=N(fe,void 0),{collectionRef:L}=N(pe,void 0),S=k(()=>[o.b("menu"),o.bm("menu",n==null?void 0:n.value)]),D=Fe(t,h,c,a,L),I=H(p=>{var i;(i=e.onKeydown)==null||i.call(e,p)},p=>{const{currentTarget:i,code:y,target:T}=p;if(i.contains(T),C.tab===y&&p.stopImmediatePropagation(),p.preventDefault(),T!==E(t)||!nn.includes(y))return;const Y=g().filter(G=>!G.disabled).map(G=>G.ref);Ke.includes(y)&&Y.reverse(),me(Y)});return{size:n,rovingFocusGroupRootStyle:_,tabIndex:r,dropdownKls:S,role:u,triggerId:s,dropdownListWrapperRef:D,handleKeydown:p=>{I(p),d(p)},onBlur:m,onFocus:v,onMousedown:w}}}),wn=["role","aria-labelledby"];function yn(e,o,l,n,c,d){return F(),Q("ul",{ref:e.dropdownListWrapperRef,class:j(e.dropdownKls),style:le(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:o[0]||(o[0]=(...t)=>e.onBlur&&e.onBlur(...t)),onFocus:o[1]||(o[1]=(...t)=>e.onFocus&&e.onFocus(...t)),onKeydown:o[2]||(o[2]=ue((...t)=>e.handleKeydown&&e.handleKeydown(...t),["self"])),onMousedown:o[3]||(o[3]=ue((...t)=>e.onMousedown&&e.onMousedown(...t),["self"]))},[M(e.$slots,"default")],46,wn)}var He=K(hn,[["render",yn],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const On=ke(dn,{DropdownItem:Ae,DropdownMenu:He}),Rn=Ne(Ae),Nn=Ne(He);export{mo as B,On as E,Nn as a,Rn as b,ko as c,Fe as d,xo as e};
