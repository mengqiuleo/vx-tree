import{w as F,b as x,l as g,p as He,a5 as re,d as Me,ai as at,a4 as ot,Z as le,$ as R,q as st,g as it,a6 as rt,aj as lt,o as w,c as N,D as S,F as ue,n as I,f as s,r as q,A as B,B as k,C as K,L as Z,G as ce,H as ut,a3 as ct,ag as dt,t as ee,I as pt,ac as Ce}from"./framework.c5d8c147.js";import{s as ft,t as De,v as te,x as We,y as vt,z as fe,A as ne,B as mt,C as ht,D as yt,F as bt,i as Pe,b as gt,u as xt,m as de,l as ze,h as wt,j as St,d as It,e as Et,f as Ne,V as Ot,G as _t,H as Ct,I as Pt,E as Q,J as zt,_ as Nt,w as Ft}from"./use-form-item.bdb6e1a4.js";import{U as pe,d as Fe}from"./event.e06a23af.js";function T(e){var a;const o=te(e);return(a=o==null?void 0:o.$el)!=null?a:o}const L=ne?window:void 0,Vt=ne?window.document:void 0;function V(...e){let a,o,t,r;if(ft(e[0])||Array.isArray(e[0])?([o,t,r]=e,a=L):[a,o,t,r]=e,!a)return De;Array.isArray(o)||(o=[o]),Array.isArray(t)||(t=[t]);const l=[],i=()=>{l.forEach(v=>v()),l.length=0},p=(v,f,c,y)=>(v.addEventListener(f,c,y),()=>v.removeEventListener(f,c,y)),u=F(()=>[T(a),te(r)],([v,f])=>{i(),v&&l.push(...o.flatMap(c=>t.map(y=>p(v,c,y,f))))},{immediate:!0,flush:"post"}),h=()=>{u(),i()};return We(h),h}let Ve=!1;function pn(e,a,o={}){const{window:t=L,ignore:r=[],capture:l=!0,detectIframe:i=!1}=o;if(!t)return;vt&&!Ve&&(Ve=!0,Array.from(t.document.body.children).forEach(c=>c.addEventListener("click",De)));let p=!0;const u=c=>r.some(y=>{if(typeof y=="string")return Array.from(t.document.querySelectorAll(y)).some(m=>m===c.target||c.composedPath().includes(m));{const m=T(y);return m&&(c.target===m||c.composedPath().includes(m))}}),v=[V(t,"click",c=>{const y=T(e);if(!(!y||y===c.target||c.composedPath().includes(y))){if(c.detail===0&&(p=!u(c)),!p){p=!0;return}a(c)}},{passive:!0,capture:l}),V(t,"pointerdown",c=>{const y=T(e);y&&(p=!c.composedPath().includes(y)&&!u(c))},{passive:!0}),i&&V(t,"blur",c=>{var y;const m=T(e);((y=t.document.activeElement)==null?void 0:y.tagName)==="IFRAME"&&!(m!=null&&m.contains(t.document.activeElement))&&a(c)})].filter(Boolean);return()=>v.forEach(c=>c())}function kt(e,a=!1){const o=x(),t=()=>o.value=!!e();return t(),fe(t,a),o}function Tt(e){return JSON.parse(JSON.stringify(e))}const ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Te="__vueuse_ssr_handlers__";ke[Te]=ke[Te]||{};function fn(e,a,{window:o=L,initialValue:t=""}={}){const r=x(t),l=g(()=>{var i;return T(a)||((i=o==null?void 0:o.document)==null?void 0:i.documentElement)});return F([l,()=>te(e)],([i,p])=>{var u;if(i&&o){const h=(u=o.getComputedStyle(i).getPropertyValue(p))==null?void 0:u.trim();r.value=h||t}},{immediate:!0}),F(r,i=>{var p;(p=l.value)!=null&&p.style&&l.value.style.setProperty(te(e),i)}),r}function vn({document:e=Vt}={}){if(!e)return x("visible");const a=x(e.visibilityState);return V(e,"visibilitychange",()=>{a.value=e.visibilityState}),a}var $e=Object.getOwnPropertySymbols,$t=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable,Rt=(e,a)=>{var o={};for(var t in e)$t.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&$e)for(var t of $e(e))a.indexOf(t)<0&&At.call(e,t)&&(o[t]=e[t]);return o};function je(e,a,o={}){const t=o,{window:r=L}=t,l=Rt(t,["window"]);let i;const p=kt(()=>r&&"ResizeObserver"in r),u=()=>{i&&(i.disconnect(),i=void 0)},h=F(()=>T(e),f=>{u(),p.value&&r&&f&&(i=new ResizeObserver(a),i.observe(f,l))},{immediate:!0,flush:"post"}),v=()=>{u(),h()};return We(v),{isSupported:p,stop:v}}function mn(e,a={}){const{reset:o=!0,windowResize:t=!0,windowScroll:r=!0,immediate:l=!0}=a,i=x(0),p=x(0),u=x(0),h=x(0),v=x(0),f=x(0),c=x(0),y=x(0);function m(){const d=T(e);if(!d){o&&(i.value=0,p.value=0,u.value=0,h.value=0,v.value=0,f.value=0,c.value=0,y.value=0);return}const E=d.getBoundingClientRect();i.value=E.height,p.value=E.bottom,u.value=E.left,h.value=E.right,v.value=E.top,f.value=E.width,c.value=E.x,y.value=E.y}return je(e,m),F(()=>T(e),d=>!d&&m()),r&&V("scroll",m,{capture:!0,passive:!0}),t&&V("resize",m,{passive:!0}),fe(()=>{l&&m()}),{height:i,bottom:p,left:u,right:h,top:v,width:f,x:c,y,update:m}}var Ae;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Ae||(Ae={}));var Bt=Object.defineProperty,Re=Object.getOwnPropertySymbols,Lt=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable,Be=(e,a,o)=>a in e?Bt(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o,Mt=(e,a)=>{for(var o in a||(a={}))Lt.call(a,o)&&Be(e,o,a[o]);if(Re)for(var o of Re(a))Ht.call(a,o)&&Be(e,o,a[o]);return e};const Dt={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Mt({linear:mt},Dt);function hn(e,a,o,t={}){var r,l,i;const{clone:p=!1,passive:u=!1,eventName:h,deep:v=!1,defaultValue:f}=t,c=He(),y=o||(c==null?void 0:c.emit)||((r=c==null?void 0:c.$emit)==null?void 0:r.bind(c))||((i=(l=c==null?void 0:c.proxy)==null?void 0:l.$emit)==null?void 0:i.bind(c==null?void 0:c.proxy));let m=h;a||(a="modelValue"),m=h||m||`update:${a.toString()}`;const d=_=>p?ht(p)?p(_):Tt(_):_,E=()=>yt(e[a])?d(e[a]):f;if(u){const _=E(),O=x(_);return F(()=>e[a],P=>O.value=d(P)),F(O,P=>{(P!==e[a]||v)&&y(m,P)},{deep:v}),O}else return g({get(){return E()},set(_){y(m,_)}})}function yn({window:e=L}={}){if(!e)return x(!1);const a=x(e.document.hasFocus());return V(e,"blur",()=>{a.value=!1}),V(e,"focus",()=>{a.value=!0}),a}function bn(e={}){const{window:a=L,initialWidth:o=1/0,initialHeight:t=1/0,listenOrientation:r=!0,includeScrollbar:l=!0}=e,i=x(o),p=x(t),u=()=>{a&&(l?(i.value=a.innerWidth,p.value=a.innerHeight):(i.value=a.document.documentElement.clientWidth,p.value=a.document.documentElement.clientHeight))};return u(),fe(u),V("resize",u,{passive:!0}),r&&V("orientationchange",u,{passive:!0}),{width:i,height:p}}const Wt=()=>ne&&/firefox/i.test(window.navigator.userAgent),jt=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),Kt=e=>e,Qt=["class","style"],Ut=/^on[A-Z]/,Gt=(e={})=>{const{excludeListeners:a=!1,excludeKeys:o}=e,t=g(()=>((o==null?void 0:o.value)||[]).concat(Qt)),r=He();return r?g(()=>{var l;return bt(Object.entries((l=r.proxy)==null?void 0:l.$attrs).filter(([i])=>!t.value.includes(i)&&!(a&&Ut.test(i))))}):g(()=>({}))};function Jt(e){const a=x();function o(){if(e.value==null)return;const{selectionStart:r,selectionEnd:l,value:i}=e.value;if(r==null||l==null)return;const p=i.slice(0,Math.max(0,r)),u=i.slice(Math.max(0,l));a.value={selectionStart:r,selectionEnd:l,value:i,beforeTxt:p,afterTxt:u}}function t(){if(e.value==null||a.value==null)return;const{value:r}=e.value,{beforeTxt:l,afterTxt:i,selectionStart:p}=a.value;if(l==null||i==null||p==null)return;let u=r.length;if(r.endsWith(i))u=r.length-i.length;else if(r.startsWith(l))u=l.length;else{const h=l[p-1],v=r.indexOf(h,p-1);v!==-1&&(u=v+1)}e.value.setSelectionRange(u,u)}return[o,t]}let C;const Yt=`
  height:0 !important;
  visibility:hidden !important;
  ${Wt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Xt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function qt(e){const a=window.getComputedStyle(e),o=a.getPropertyValue("box-sizing"),t=Number.parseFloat(a.getPropertyValue("padding-bottom"))+Number.parseFloat(a.getPropertyValue("padding-top")),r=Number.parseFloat(a.getPropertyValue("border-bottom-width"))+Number.parseFloat(a.getPropertyValue("border-top-width"));return{contextStyle:Xt.map(i=>`${i}:${a.getPropertyValue(i)}`).join(";"),paddingSize:t,borderSize:r,boxSizing:o}}function Le(e,a=1,o){var t;C||(C=document.createElement("textarea"),document.body.appendChild(C));const{paddingSize:r,borderSize:l,boxSizing:i,contextStyle:p}=qt(e);C.setAttribute("style",`${p};${Yt}`),C.value=e.value||e.placeholder||"";let u=C.scrollHeight;const h={};i==="border-box"?u=u+l:i==="content-box"&&(u=u-r),C.value="";const v=C.scrollHeight-r;if(Pe(a)){let f=v*a;i==="border-box"&&(f=f+r+l),u=Math.max(f,u),h.minHeight=`${f}px`}if(Pe(o)){let f=v*o;i==="border-box"&&(f=f+r+l),u=Math.min(f,u)}return h.height=`${u}px`,(t=C.parentNode)==null||t.removeChild(C),C=void 0,h}const Zt=gt({id:{type:String,default:void 0},size:xt,disabled:Boolean,modelValue:{type:de([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:de([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ze},prefixIcon:{type:ze},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:de([Object,Array,String]),default:()=>Kt({})}}),en={[pe]:e=>re(e),input:e=>re(e),change:e=>re(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},tn=["role"],nn=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],an=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],on=Me({name:"ElInput",inheritAttrs:!1}),sn=Me({...on,props:Zt,emits:en,setup(e,{expose:a,emit:o}){const t=e,r=at(),l=ot(),i=g(()=>{const n={};return t.containerRole==="combobox"&&(n["aria-haspopup"]=r["aria-haspopup"],n["aria-owns"]=r["aria-owns"],n["aria-expanded"]=r["aria-expanded"]),n}),p=g(()=>[t.type==="textarea"?E.b():d.b(),d.m(y.value),d.is("disabled",m.value),d.is("exceed",Ue.value),{[d.b("group")]:l.prepend||l.append,[d.bm("group","append")]:l.append,[d.bm("group","prepend")]:l.prepend,[d.m("prefix")]:l.prefix||t.prefixIcon,[d.m("suffix")]:l.suffix||t.suffixIcon||t.clearable||t.showPassword,[d.bm("suffix","password-clear")]:J.value&&oe.value},r.class]),u=g(()=>[d.e("wrapper"),d.is("focus",P.value)]),h=Gt({excludeKeys:g(()=>Object.keys(i.value))}),{form:v,formItem:f}=wt(),{inputId:c}=St(t,{formItemContext:f}),y=It(),m=Et(),d=Ne("input"),E=Ne("textarea"),_=le(),O=le(),P=x(!1),ae=x(!1),H=x(!1),U=x(!1),ve=x(),G=le(t.inputStyle),M=g(()=>_.value||O.value),me=g(()=>{var n;return(n=v==null?void 0:v.statusIcon)!=null?n:!1}),D=g(()=>(f==null?void 0:f.validateState)||""),he=g(()=>D.value&&Ot[D.value]),Ke=g(()=>U.value?_t:Ct),Qe=g(()=>[r.style,t.inputStyle]),ye=g(()=>[t.inputStyle,G.value,{resize:t.resize}]),$=g(()=>Pt(t.modelValue)?"":String(t.modelValue)),J=g(()=>t.clearable&&!m.value&&!t.readonly&&!!$.value&&(P.value||ae.value)),oe=g(()=>t.showPassword&&!m.value&&!t.readonly&&!!$.value&&(!!$.value||P.value)),A=g(()=>t.showWordLimit&&!!h.value.maxlength&&(t.type==="text"||t.type==="textarea")&&!m.value&&!t.readonly&&!t.showPassword),se=g(()=>$.value.length),Ue=g(()=>!!A.value&&se.value>Number(h.value.maxlength)),Ge=g(()=>!!l.suffix||!!t.suffixIcon||J.value||t.showPassword||A.value||!!D.value&&me.value),[Je,Ye]=Jt(_);je(O,n=>{if(Xe(),!A.value||t.resize!=="both")return;const b=n[0],{width:z}=b.contentRect;ve.value={right:`calc(100% - ${z+15+6}px)`}});const W=()=>{const{type:n,autosize:b}=t;if(!(!ne||n!=="textarea"||!O.value))if(b){const z=Ce(b)?b.minRows:void 0,X=Ce(b)?b.maxRows:void 0,_e=Le(O.value,z,X);G.value={overflowY:"hidden",..._e},R(()=>{O.value.offsetHeight,G.value=_e})}else G.value={minHeight:Le(O.value).minHeight}},Xe=(n=>{let b=!1;return()=>{var z;if(b||!t.autosize)return;((z=O.value)==null?void 0:z.offsetParent)===null||(n(),b=!0)}})(W),j=()=>{const n=M.value;!n||n.value===$.value||(n.value=$.value)},ie=async n=>{Je();let{value:b}=n.target;if(t.formatter&&(b=t.parser?t.parser(b):b,b=t.formatter(b)),!H.value){if(b===$.value){j();return}o(pe,b),o("input",b),await R(),j(),Ye()}},be=n=>{o("change",n.target.value)},ge=n=>{o("compositionstart",n),H.value=!0},xe=n=>{var b;o("compositionupdate",n);const z=(b=n.target)==null?void 0:b.value,X=z[z.length-1]||"";H.value=!jt(X)},we=n=>{o("compositionend",n),H.value&&(H.value=!1,ie(n))},qe=()=>{U.value=!U.value,Y()},Y=async()=>{var n;await R(),(n=M.value)==null||n.focus()},Ze=()=>{var n;return(n=M.value)==null?void 0:n.blur()},Se=n=>{P.value=!0,o("focus",n)},Ie=n=>{var b;P.value=!1,o("blur",n),t.validateEvent&&((b=f==null?void 0:f.validate)==null||b.call(f,"blur").catch(z=>Fe()))},et=n=>{ae.value=!1,o("mouseleave",n)},tt=n=>{ae.value=!0,o("mouseenter",n)},Ee=n=>{o("keydown",n)},nt=()=>{var n;(n=M.value)==null||n.select()},Oe=()=>{o(pe,""),o("change",""),o("clear"),o("input","")};return F(()=>t.modelValue,()=>{var n;R(()=>W()),t.validateEvent&&((n=f==null?void 0:f.validate)==null||n.call(f,"change").catch(b=>Fe()))}),F($,()=>j()),F(()=>t.type,async()=>{await R(),j(),W()}),st(()=>{!t.formatter&&t.parser,j(),R(W)}),a({input:_,textarea:O,ref:M,textareaStyle:ye,autosize:it(t,"autosize"),focus:Y,blur:Ze,select:nt,clear:Oe,resizeTextarea:W}),(n,b)=>rt((w(),N("div",ce(s(i),{class:s(p),style:s(Qe),role:n.containerRole,onMouseenter:tt,onMouseleave:et}),[S(" input "),n.type!=="textarea"?(w(),N(ue,{key:0},[S(" prepend slot "),n.$slots.prepend?(w(),N("div",{key:0,class:I(s(d).be("group","prepend"))},[q(n.$slots,"prepend")],2)):S("v-if",!0),B("div",{class:I(s(u))},[S(" prefix slot "),n.$slots.prefix||n.prefixIcon?(w(),N("span",{key:0,class:I(s(d).e("prefix"))},[B("span",{class:I(s(d).e("prefix-inner")),onClick:Y},[q(n.$slots,"prefix"),n.prefixIcon?(w(),k(s(Q),{key:0,class:I(s(d).e("icon"))},{default:K(()=>[(w(),k(Z(n.prefixIcon)))]),_:1},8,["class"])):S("v-if",!0)],2)],2)):S("v-if",!0),B("input",ce({id:s(c),ref_key:"input",ref:_,class:s(d).e("inner")},s(h),{type:n.showPassword?U.value?"text":"password":n.type,disabled:s(m),formatter:n.formatter,parser:n.parser,readonly:n.readonly,autocomplete:n.autocomplete,tabindex:n.tabindex,"aria-label":n.label,placeholder:n.placeholder,style:n.inputStyle,form:t.form,onCompositionstart:ge,onCompositionupdate:xe,onCompositionend:we,onInput:ie,onFocus:Se,onBlur:Ie,onChange:be,onKeydown:Ee}),null,16,nn),S(" suffix slot "),s(Ge)?(w(),N("span",{key:1,class:I(s(d).e("suffix"))},[B("span",{class:I(s(d).e("suffix-inner")),onClick:Y},[!s(J)||!s(oe)||!s(A)?(w(),N(ue,{key:0},[q(n.$slots,"suffix"),n.suffixIcon?(w(),k(s(Q),{key:0,class:I(s(d).e("icon"))},{default:K(()=>[(w(),k(Z(n.suffixIcon)))]),_:1},8,["class"])):S("v-if",!0)],64)):S("v-if",!0),s(J)?(w(),k(s(Q),{key:1,class:I([s(d).e("icon"),s(d).e("clear")]),onMousedown:ct(s(dt),["prevent"]),onClick:Oe},{default:K(()=>[ut(s(zt))]),_:1},8,["class","onMousedown"])):S("v-if",!0),s(oe)?(w(),k(s(Q),{key:2,class:I([s(d).e("icon"),s(d).e("password")]),onClick:qe},{default:K(()=>[(w(),k(Z(s(Ke))))]),_:1},8,["class"])):S("v-if",!0),s(A)?(w(),N("span",{key:3,class:I(s(d).e("count"))},[B("span",{class:I(s(d).e("count-inner"))},ee(s(se))+" / "+ee(s(h).maxlength),3)],2)):S("v-if",!0),s(D)&&s(he)&&s(me)?(w(),k(s(Q),{key:4,class:I([s(d).e("icon"),s(d).e("validateIcon"),s(d).is("loading",s(D)==="validating")])},{default:K(()=>[(w(),k(Z(s(he))))]),_:1},8,["class"])):S("v-if",!0)],2)],2)):S("v-if",!0)],2),S(" append slot "),n.$slots.append?(w(),N("div",{key:1,class:I(s(d).be("group","append"))},[q(n.$slots,"append")],2)):S("v-if",!0)],64)):(w(),N(ue,{key:1},[S(" textarea "),B("textarea",ce({id:s(c),ref_key:"textarea",ref:O,class:s(E).e("inner")},s(h),{tabindex:n.tabindex,disabled:s(m),readonly:n.readonly,autocomplete:n.autocomplete,style:s(ye),"aria-label":n.label,placeholder:n.placeholder,form:t.form,onCompositionstart:ge,onCompositionupdate:xe,onCompositionend:we,onInput:ie,onFocus:Se,onBlur:Ie,onChange:be,onKeydown:Ee}),null,16,an),s(A)?(w(),N("span",{key:0,style:pt(ve.value),class:I(s(d).e("count"))},ee(s(se))+" / "+ee(s(h).maxlength),7)):S("v-if",!0)],64))],16,tn)),[[lt,n.type!=="hidden"]])}});var rn=Nt(sn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const gn=Ft(rn);export{gn as E,bn as a,mn as b,V as c,je as d,Gt as e,fn as f,Wt as g,vn as h,jt as i,yn as j,hn as k,Kt as m,pn as o,T as u};
